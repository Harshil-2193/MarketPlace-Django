{% extends "layout.html" %}
{% load static %}

{% block title %}{{ product.product_name }} - Details{% endblock %}

{% block content %}
<div class="bg-gradient-to-br from-gray-900 to-gray-800 py-16 min-h-screen text-gray-100 font-sans antialiased" data-content-block="product-details">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="bg-gray-800/50 border border-gray-700 rounded-xl shadow-xl p-8">
            <!-- Product Image -->
            <div class="mb-8">
                <img src="{{ product.image.url }}" class="w-full max-h-[500px] object-cover rounded-xl bg-gray-700 shadow-lg">
            </div>

            <!-- Product Header -->
            <header class="mb-8">
                <h1 class="text-3xl md:text-4xl font-bold text-white tracking-tight mb-3">
                    {{ product.product_name }}
                </h1>
                <p class="text-lg text-gray-400 font-medium">SKU: {{ product.sku }}</p>
            </header>

            <!-- Product Description -->
            <div class="mb-8">
                <p class="text-gray-300 leading-relaxed text-lg">{{ product.desc }}</p>
            </div>

            <!-- Product Details -->
            <div class="text-gray-400 space-y-4 text-base border-t border-b border-gray-600 py-6 mb-8">
                <div class="flex items-center">
                    <svg class="w-5 h-5 mr-3 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>
                    </svg>
                    <span class="font-medium text-gray-300">Category:</span> 
                    <span class="ml-2">{{ product.category.category_name }}</span>
                </div>
                <div class="flex items-center">
                    <svg class="w-5 h-5 mr-3 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"></path>
                    </svg>
                    <span class="font-medium text-gray-300">Brand:</span> 
                    <span class="ml-2">{{ product.brand.brand_name }}</span>
                </div>
                <div class="flex items-center">
                    <svg class="w-5 h-5 mr-3 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                    </svg>
                    <span class="font-medium text-gray-300">Quantity:</span> 
                    <span class="ml-2">{{ product.quantity }}</span>
                </div>
                <div class="flex items-center">
                    <svg class="w-5 h-5 mr-3 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"></path>
                    </svg>
                    <span class="font-medium text-gray-300">Size:</span> 
                    <span class="ml-2">{{ product.height_cm }}cm x {{ product.width_cm }}cm</span>
                </div>
            </div>
            
            <!-- Action Buttons (if seller) -->
            {% if role == 'seller' and show_actions %}
            <div class="flex flex-col sm:flex-row gap-4">
                <a href="{% url 'edit_product_page' product.product_id %}" 
                   class="flex-1 inline-flex items-center justify-center px-6 py-3 bg-gray-600 hover:bg-gray-500 text-white font-medium rounded-lg transition-all duration-300 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-gray-500/50">
                    <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path>
                    </svg>
                    Update Product
                </a>
                
                <form action="{% url 'delete_product_page' product.product_id %}" method="POST" class="flex-1">
                    {% csrf_token %}
                    <button type="submit"
                        onclick="return confirm('Are you sure you want to delete this product?')"
                        class="w-full inline-flex items-center justify-center px-6 py-3 bg-red-600 hover:bg-red-500 text-white font-medium rounded-lg transition-all duration-300 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-red-500/50">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path>
                        </svg>
                        Delete Product
                    </button>
                </form>
            </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
